# iAgreeDemo - библиотека для фотографирования клиента в качестве визуального подтверждения действия определенного Пользователя в определенное время в определенном месте.

Библиотека обеспечивает следующие возможности (клиентская библиотека КБ):
- Фотографирование на фронтальную или заднюю камеру со стандартным интерфейсом (СИ).
- Прикрепление к изображению геокординат, штампа времени и произвольного идентификатора
- Интеграция функционала в произвольный интерфейс (ПИ). 

При фотографировании доступны следующие кнопки 
- сделать фотографию
- включить вспышку (может сделать по умолчанию?)
- отменить 
- переключить камеру

В СИ все кнопки расположены по умолчанию и не редактируются. Можно заранее выбрать фронтальную или заднюю камеру. Можно скрыть кнопки вспышки и переключения камеры.
В ПИ кнопки также по умолчание расположены как в СИ. Можно отключить все кнопки, а также вызвать действия привязанные к стандартным кнопкам программно, если кнопки реализуются через пользовательские элементы управления.
После создания фотографии к ней прикрепляется информация о геопозиции, времени создания снимка и идентификатор. Эти опции обязательны. Фотография и прикреплённая информация либо отдается вызывающей программе, либо в случае подключения к сервису хранения (СХ) отсылается на СХ. При отсылании на СХ программе дается возможность прикрепить к отсылаемой информации дополнительно произвольную текстовую строку. 
При использовании СХ информация кэшируется, если сеть недоступна, и отсылаться позже самостоятельно.

Сервис хранения обеспечивает следующие возможности:
- Выдает и отзывает ключ для подключения КБ к СХ.
- Принимает от КБ и хранит фотографии с сопутствующей информацией.
- По внешнему API отдает информацию о фотографиях.
- Внешнее API могут реализовать как специальные программы СХ типа админки, так и программа клиента, например, при просмотре истории заказов.

Порядок действий:
1. Запрос клиентской программой получения фотографии от iAgree.
2. Возврат фотографии, времени и геопозиции клиентской программе, если она не подключена к СХ или не хочет его использовать в данный момент.
3. Отправка фотографии, времени, геолокации и произвольной текстовой строки на СХ.
4. Обращение к СХ из пользовательского приложения для получения выборки фотографий с прикрепленными данными.
5. Обращение к СХ из других приложений.
